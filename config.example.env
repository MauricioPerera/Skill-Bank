# Hierarchical RAG Configuration Example
# Copy this file to .env and configure your settings

# ==============================================================================
# EMBEDDING SERVICE CONFIGURATION
# ==============================================================================

# Choose your embedding service: mock | openai | ollama
EMBEDDING_SERVICE=mock

# ------------------------------------------------------------------------------
# OpenAI Configuration (when EMBEDDING_SERVICE=openai)
# ------------------------------------------------------------------------------
# OPENAI_API_KEY=sk-your-api-key-here
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# OPENAI_DIMENSIONS=1536  # Optional: override model dimensions

# ------------------------------------------------------------------------------
# Ollama Configuration (when EMBEDDING_SERVICE=ollama)
# ------------------------------------------------------------------------------
# OLLAMA_URL=http://localhost:11434
# OLLAMA_EMBEDDING_MODEL=nomic-embed-text
# OLLAMA_DIMENSIONS=768  # Optional: override model dimensions

# ==============================================================================
# MATRYOSHKA EMBEDDINGS (STORAGE OPTIMIZATION)
# ==============================================================================
# Matryoshka embeddings allow truncating vectors to reduce storage and improve speed
# while maintaining reasonable quality.

# Enable/disable matryoshka truncation
MATRYOSHKA_ENABLED=false

# Target dimensions for truncation (64-2048)
# Recommended values:
#   - 1024: High quality (33% storage reduction, ~92% quality)
#   - 768:  Best balance (50% reduction, ~85% quality) - RECOMMENDED
#   - 512:  Good performance (67% reduction, ~70% quality)
#   - 384:  Speed critical (75% reduction, ~61% quality)
#   - 256:  Edge devices (83% reduction, ~55% quality)
MATRYOSHKA_DIMENSIONS=768

# Example configurations:
#
# 1. OpenAI with matryoshka (recommended for production):
#    EMBEDDING_SERVICE=openai
#    OPENAI_API_KEY=sk-...
#    MATRYOSHKA_ENABLED=true
#    MATRYOSHKA_DIMENSIONS=768
#
# 2. Ollama with matryoshka (recommended for local/privacy):
#    EMBEDDING_SERVICE=ollama
#    OLLAMA_EMBEDDING_MODEL=nomic-embed-text
#    MATRYOSHKA_ENABLED=true
#    MATRYOSHKA_DIMENSIONS=384
#
# 3. Mock for development/testing:
#    EMBEDDING_SERVICE=mock

# ==============================================================================
# API CONFIGURATION
# ==============================================================================

# API server settings
API_PORT=3000
API_HOST=localhost

# ==============================================================================
# DATABASE PATHS
# ==============================================================================

# SQLite vector database path
DB_PATH=rag.db

# JSON document store path
JSON_PATH=documents.json

# ==============================================================================
# NOTES
# ==============================================================================
#
# - Mock embeddings: No setup required, deterministic for testing
# - OpenAI: Requires API key, best quality, costs per API call
# - Ollama: Free, local, privacy-preserving, requires Ollama installation
#
# - Matryoshka: Works with OpenAI and Ollama, not recommended with mock
# - Changing MATRYOSHKA_DIMENSIONS requires re-indexing documents
#
# For detailed documentation, see:
# - README.md - General usage and architecture
# - docs/MATRYOSHKA.md - Complete matryoshka guide
# - QUICK_START.md - Quick setup instructions

